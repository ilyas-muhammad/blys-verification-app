{"version":3,"sources":["App.js","assets/images/blys-logo.png","Success.js","index.js"],"names":["CODE_LENGTH_ALLOWED","Array","fill","App","input","React","createRef","state","value","focused","isValid","isShouldShowMessage","handleClick","current","focus","handleFocus","setState","handleBlur","handleKeyUp","e","key","slice","length","errorMessage","handleChange","target","regexNumberOnly","RegExp","test","handleButtonClick","values","split","axios","post","process","code","headers","then","res","status","data","swal","props","history","push","catch","reason","response","message","this","selectedIndex","hideInput","className","onClick","ref","onChange","onKeyUp","onFocus","onBlur","style","width","top","bottom","left","opacity","outlineColor","map","v","index","selected","filled","Component","Success","alt","src","logo","ReactDOM","render","exact","path","component","document","getElementById"],"mappings":"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","file":"static/js/main.e2c773af.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport './assets/css/App.css';\n\nconst CODE_LENGTH_ALLOWED = new Array(6).fill(0);\n\nclass App extends Component {\n  input = React.createRef();\n  state = {\n    value: \"\",\n    focused: false,\n    isValid: true,\n    isShouldShowMessage: false,\n  };\n\n  handleClick = () => {\n    this.input.current.focus();\n  };\n  handleFocus = () => {\n    this.setState({ focused: true });\n  };\n  handleBlur = () => {\n    this.setState({\n      focused: false,\n      isValid: true,\n      isShouldShowMessage: false,\n    });\n  };\n  handleKeyUp = e => {\n    if (e.key === \"Backspace\") {\n      this.setState(state => {\n        return {\n          value: state.value.slice(0, state.value.length - 1),\n          isValid: true, \n          isShouldShowMessage: false,\n          errorMessage: '',\n        };\n      });\n    }\n  };\n  \n  handleChange = e => {\n    const value = e.target.value;\n    const regexNumberOnly = new RegExp('[0-9]');\n\n    this.setState({\n        isValid: true,\n        isShouldShowMessage: false,\n        errorMessage: null,\n    });\n\n    if (!regexNumberOnly.test(value)) {\n        this.setState({\n            isValid: false,\n            isShouldShowMessage: true,\n            errorMessage: 'Only number allowed'\n        })\n        return false;\n    }\n\n    this.setState(state => {\n      if (state.value.length >= CODE_LENGTH_ALLOWED.length) return null;\n      return {\n        value: (state.value + value).slice(0, CODE_LENGTH_ALLOWED.length),\n      };\n    });\n  };\n\n  handleButtonClick = () => {\n    const values = this.state.value.split('');\n\n    if (!values.length || values.length !== 6) {\n      this.setState({\n          isShouldShowMessage: true,\n          errorMessage: 'Should fill six digit code',\n      });\n\n      return false;\n    }\n\n    axios.post(`${process.env.REACT_APP_SERVER_URL}`, {\n      code: this.state.value,\n    }, { headers: {\n      'Content-Type': 'application/json',\n    }}).then((res) => {\n      if (!res.status || !res.data.status) {\n        swal('Error', 'Verification Error', 'error');\n        return true;\n      }\n\n      swal('Success', 'Verified', 'success').then(() => this.props.history.push('./success'));\n    }).catch((reason) => {\n      swal('Verification Error', `${reason.response.data.message || 'Error'}`, 'error');\n\n      return false;\n    });\n  }\n  render() {\n    const {\n        value,\n        focused,\n        isValid,\n        isShouldShowMessage,\n        errorMessage,\n    } = this.state;\n\n    const values = value.split('');\n    \n    const selectedIndex =\n      values.length < CODE_LENGTH_ALLOWED.length ? values.length : CODE_LENGTH_ALLOWED.length - 1;\n\n    const hideInput = !(values.length < CODE_LENGTH_ALLOWED.length);\n\n    return (\n      <div>\n        <center>\n        <h3>\n            Blys Verification App\n        </h3>\n        </center>\n        {\n        isShouldShowMessage && (\n            <div>\n                <p className=\"number-only\">* {errorMessage}</p>\n            </div>\n        )}\n\n      <div className=\"App\">\n        <div className=\"wrap\" onClick={this.handleClick}>\n          <input\n            value=\"\"\n            ref={this.input}\n            onChange={this.handleChange}\n            onKeyUp={this.handleKeyUp}\n            onFocus={this.handleFocus}\n            onBlur={this.handleBlur}\n            className=\"input\"\n            style={{\n              width: \"32px\",\n              top: \"0px\",\n              bottom: \"0px\",\n              left: `${selectedIndex * 32}px`,\n              opacity: hideInput ? 0 : 1,\n              outlineColor: 'red',\n            }}\n          />\n          {CODE_LENGTH_ALLOWED.map((v, index) => {\n            const selected = values.length === index;\n            const filled = values.length === CODE_LENGTH_ALLOWED.length && index === CODE_LENGTH_ALLOWED.length - 1;\n\n            return (\n              <div className=\"display\" key={index}>\n                {values[index]}\n                {(isValid && (selected || filled)) && focused && <div className=\"shadows\" />}\n                {(!isValid && (selected || filled)) && focused && <div className=\"highlighted\" />}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n      <button onClick={this.handleButtonClick} className=\"submit\">Submit</button>\n      </div>\n    );\n  }\n}\n\nexport default App;","export default __webpack_public_path__ + \"static/media/blys-logo.290dc750.png\";","import React, { Component } from 'react';\nimport logo from './assets/images/blys-logo.png';\nclass Success extends Component {\n    render() {\n        return (\n            <img alt=\"blys\" src={logo} style={{ width: '100%' }} />\n        )\n    }\n}\n\nexport default Success;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Route, BrowserRouter } from 'react-router-dom';\nimport './assets/css/index.css';\nimport App from './App';\nimport Success from './Success';\n\nReactDOM.render(\n  <BrowserRouter>\n    <Route exact path=\"/\" component={App} />\n    <Route exact path=\"/success\" component={Success} />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}